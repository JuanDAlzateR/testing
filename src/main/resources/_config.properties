#=====================================================#
#================= Configuration v2 ==================#
#=====================================================#

#=================== Global configuration ============#
url=https://www.coursera.org/
browser=chrome
#capabilities.browserName=chrome
browser_language=en
#capabilities.browserVersion=NULL
selenium_url=http://localhost:4444
custom_capabilities=NULL
extra_capabilities=NULL
app_version=

#desired thread count for parallel execution. If commented "thread-count" value from TestNG suite xml is used.
#thread_count=1

#desired thread count for data provider(s). If commented "data-provider-thread-count" value from TestNG suite xml is used.
#data_provider_thread_count=1

#=====================================================#

#=============== Environment configuration ===========#
env=METEO
METEO.base=https://www.meteosource.com/api/v1/free
METEO.api_url=

#================Chrome configuration====================#


#============== Locale Configurations ================#
locale=en_US
localization_testing=false
localization_encoding=UTF-8
language=en_US
#=====================================================#

#============== WebDriver configuration ==============#
explicit_timeout=60
#number of extra retries to start driver session and interval in seconds
init_retry_count=0
init_retry_interval=1
#=====================================================#

#================Chrome configuration (Optimized)====================#

# 1. Define the 'prefs' object in JSON format
# Set the preference key to automatically DENY common and advanced permissions (Value 2 = DENY)
# Added the 'profile.managed_automatic_device_permission_grants' preference for robustness.
chrome.capabilities.prefs={ \
  "profile.default_content_setting_values.notifications": 2, \
  "profile.default_content_setting_values.geolocation": 2, \
  "profile.default_content_setting_values.media_stream_mic": 2, \
  "profile.default_content_setting_values.media_stream_camera": 2, \
  "profile.managed_automatic_device_permission_grants": 2, \
  "profile.default_content_setting_values.device_access": 2 \
}

# 2. Add Chrome Arguments (Crucial for specific API Blocking)
# Argument to explicitly disable the WebHID API, which is often the source of "local network" prompts.
chrome.capabilities.arguments=[ \
  "--ignore-certificate-errors", \
  "--no-sandbox", \
  "--disable-notifications", \
  "--disable-features=WebHID,WebUSB" \
]

# Note: The backslashes (\) are used for readability in multiline properties files.
